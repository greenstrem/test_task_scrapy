# Fix Price Parser - Тестовое задание

Парсер для получения данных с сайта **Fix Price** с использованием API и парсинга страниц

## Установка

Перед началом работы необходимо создать виртуальное окружение и установить все зависимости

### Для Windows:
```bash
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

### Для Linux/MacOS:
```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

## Использование

### Получение списка всех городов:
```bash
python run.py get_cities --all_cities
```

### Получение категорий для конкретного города (например, для города с ID = 3):
```bash
python run.py get_cats --city_id 3
```

### Получение вложенных категорий для города:
```bash
python run.py get_cats --city_id 3 --nested_categories
```

### Запуск парсера:
```bash
python run.py
```

1. Сначала запустите парсер в **режиме сбора городов**
2. Затем переключитесь в **режим сбора категорий**
3. В конфиге укажите нужные вам **city_id** и **категории**, а также настройте параметры прокси и задержки
4. После этого запустите парсер !

## Описание команд

- **`get_cities`**  
  Получает список городов.  
  **Опционально**:  
  - Добавьте `--all_cities`, чтобы получить **все** города.

- **`get_cats`**  
  Получает категории для указанного города.  
  **Обязательные параметры**:  
  - `--city_id` — укажите **ID города**.  
  **Опционально**:  
  - Добавьте `--nested_categories`, чтобы получить **вложенные** категории.

## Важное замечание

Парсер использует как **API Fix Price**, так и **парсинг страниц** для получения данных о товарах. Это необходимо, так как некоторые характеристики товаров недоступны через API.

**P.S**:
К сожалению использовать Scrapy не получилось так как возникли пробелмы с потоками :-(

---
